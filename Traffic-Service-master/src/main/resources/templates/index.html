<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>ğŸ™ï¸ Smart City Command Center</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://unpkg.com/htmx.org@1.9.10"></script>
    <style>
        body { background-color: #1a1a2e; color: #ffffff; padding: 30px; }
        .dashboard-card { background: #16213e; border: 1px solid #4ecca3; border-radius: 12px; padding: 20px; transition: 0.3s; }
        .status-heavy { color: #e94560; font-weight: bold; }
        .status-smooth { color: #4ecca3; font-weight: bold; }
        .update-text { font-size: 0.8rem; color: #999; }
        .ai-box { border-left: 4px solid #ffcc00; background: #1f4068; padding: 10px; margin-top: 10px; border-radius: 4px; }
    </style>
</head>
<body>
<div class="container">
    <div class="row mb-4">
        <div class="col">
            <h1 class="display-5">ğŸ™ï¸ Smart City Dashboard</h1>
            <p class="text-muted">AI-Powered Real-time Traffic Monitoring (Gateway: 8081)</p>
        </div>
    </div>

    <div class="row">
        <div class="col-md-8">
            <div class="dashboard-card shadow">
                <h3 class="mb-4">ğŸš¦ Live Traffic Feed</h3>

                <div hx-get="http://localhost:8081/api/traffic/live-feed"
                     hx-trigger="every 5s"
                     hx-swap="innerHTML">
                    <div class="text-center">
                        <div class="spinner-border text-success" role="status"></div>
                        <p>Connecting to Command Center...</p>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-md-4">
            <div class="dashboard-card">
                <h4>System Health</h4>
                <hr style="border-color: #4ecca3;">
                <p>ğŸ“¡ Eureka: <span class="badge bg-success">Online</span></p>
                <p>ğŸ›¡ï¸ Gateway: <span class="badge bg-success">Active (8081)</span></p>
                <p>ğŸ¤– AI Model: <span class="badge bg-info">TinyLlama</span></p>
                <hr style="border-color: #4ecca3;">
                <p class="small text-muted">*Data auto-refreshes every 5 seconds using HTMX.</p>
            </div>
        </div>
    </div>
</div>
</body>
</html>